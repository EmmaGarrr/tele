<!-- src/app/component/home/home.component.html -->
<div class="home-content">

    <section class="section-1 hero-section container">
        <div class="hero-content row">
            <div class="col-12 col-lg-5 col-md-6 txt-center">
                <h2 class="hero-title">Transfer and have your <span class="text-highlight-gradient">files travel for
                        free</span></h2>
                <p class="hero-des">TransferNow is a simple and free way to securely share your files and folders.</p>

                <div class="icon-content">
                    <div class="icon-wrapper">
                        @for (item of icon; track $index) {
                        <span class="mask-center">
                            <span><i [class]="item.icon"></i></span>
                            <h6>{{item.title}}</h6>
                        </span>
                        }
                    </div>
                </div>

            </div>
            <div class="col-12 col-lg-6 col-md-6">
                <!-- <div *ngIf="isDraggingOverWindow && selectedItems.length === 0 && !shareableLinkForPanel && !isUploading"
                    class="fullscreen-drag-overlay" (drop)="onWindowDrop($event)" (dragover)="onWindowDragOver($event)"
                    (dragleave)="onWindowDragLeave($event)" (dragenter)="onWindowDragEnter($event)">
                    <div class="drag-overlay-content">
                        <img src="assets/image/upload.svg" alt="Drop files" class="drag-overlay-icon">
                        <h2>Drop your files here</h2>
                        <p>Add your files or folders by drag-and-dropping them on this window ðŸ˜‰</p>
                    </div>
                </div> -->
                <!-- Main Upload Interaction Area -->
                <div class="upload-interaction-area">
                    <div *ngIf="selectedItems.length === 0 && !shareableLinkForPanel && !isUploading">
                        <app-orbital-display (requestFileUpload)="triggerFileInput()"></app-orbital-display>
                    </div>
                    <!-- <div class="upload-main-wrapper"
                        *ngIf="selectedItems.length === 0 && !shareableLinkForPanel && !isUploading">
    
                        <div class="upload-welcome-wrapper">
                            <div class="position-relative custo-start">
                                <button class="upload-start" title="Start Transfer" (click)="triggerFileInput()">
                                    <span class="upload-start-label">Uploading</span>
                                    <span class="upload-strat-icon"><img src="assets/image/9974321.png"
                                            alt="Start Upload"></span>
                                    <span class="uploader-lines"><span class="uploader-lines-animation"></span></span>
                                </button>
                                <div class="upload-start-tooltip">
                                    <span>Click or drag-and-drop your files here</span>
                                    <hr data-separator="or">
                                    <div class="custo-selector">
                                        <button type="button" title="Select Files" (click)="triggerFileInput()">
                                            <img src="assets/image/file-upload.png" alt="Upload Files">
                                        </button>
                                        <button type="button" title="Select Folder" (click)="triggerFolderInput()">
                                            <img src="assets/image/folder.svg" alt="Upload Folder">
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <app-transfer-panel *ngIf="( (selectedItems.length > 0 || shareableLinkForPanel) || isUploading )"
                        [items]="selectedItems" [isUploading]="isUploading" [batchShareableLink]="shareableLinkForPanel"
                        [uploadStatusMessage]="uploadStatusMessage" (requestAddFiles)="triggerFileInput()"
                        (requestAddFolder)="triggerFolderInput()" (itemRemoved)="handleItemRemovedFromPanel($event)"
                        (itemDownloadRequested)="handleDownloadRequest($event)"
                        (transferInitiated)="initiateTransferFromPanel()" class="transfer-panel-container">
                    </app-transfer-panel>
                </div>

                <input type="file" #fileInputForStart style="display: none;" (change)="onFileSelected($event)" multiple>
                <input type="file" #folderInputForStart style="display: none;" (change)="onFolderSelected($event)"
                    webkitdirectory>
                <div *ngIf="uploadError" class="upload-error-message global-upload-error">
                    {{ uploadError }}
                </div>
                <ng-container *ngIf="currentUser">
                    <section class="section-my-files-link container">
                        <div class="my-files-link-panel card-style">
                            <p *ngIf="isLoadingUserFileCount">
                                <i class="fas fa-spinner fa-spin"></i> Checking your files...
                            </p>
                            <a routerLink="/my-files" class="btn btn-primary view-my-files-btn">
                                <i class="fas fa-folder-open"></i> View My Files
                            </a>
                        </div>
                    </section>
                </ng-container>
            </div>
        </div>
    </section>
    <!-- === END: File List Section === -->


    <!-- Other Sections (keep as is) -->
    <section class="section-7 transfer-main container">
        <div class="row discfeatures">
            <div class="col-12 col-md-5 col-lg-5 share-image p-0">
                <img src="assets/image/transfernow-enterprise-send.webp" alt="">
            </div>
            <div class="col-12 col-lg-6 col-md-6 p-0">
                <div class="transfer-content">
                    <h2 class="text-left"><span class="text-highlight-gradient">Transfer and share files</span> by email
                        or link with no size limit</h2>
                    <p>Easily share large files and documents with your colleagues, clients, or partners by email or
                        link with no size limit based on your personalized plan.
                        <br><br>
                        TransferNow Enterprise is designed to facilitate collaborative work by enabling fast file
                        sharing within your organization or externally, in a secure and centralized environment ensuring
                        effective and secure management for IT administrators or CIOs.
                        <br><br>
                        User transfers are available for 21 days by default, and you can configure file transfer
                        availability for your organization based on your preferences and personalized plan settings.
                    </p>
                </div>
            </div>
        </div>
    </section>
    <section class="section-2 transfer-file-section container">
        <div class="transfer-content">
            <h2>How to send and <span class="text-highlight-gradient">share large files</span> with TransferNow?</h2>
        </div>
        <div class="transfer-step">
            @for (item of stepContent; track $index) {
            <ol>
                <li>
                    <h3><span class="step-heading">{{item.number}}</span>{{item.title}}</h3>
                    <p>{{item.des}}</p>
                </li>
            </ol>
            }
        </div>
    </section>

    <section class="section-3 integrate-transfer container">
        <div class="row m-0 integration-content-wrapper">
            <div class="col-12 col-lg-12 p-0 itegration-content">
                <div class="transfer-content">
                    <h2 class="transfer-heading">Integrate TransferNow to your website for <span
                            class="text-highlight-gradient">file reception</span></h2>
                </div>
                <p>Discover our tool for creating customized forms and then by adding a simple line of HTML code on your
                    internet site you can directly receive files.</p>
            </div>
            <div class="col-12 col-lg-12 p-0">
                <div class="contact-list">
                    @for (item of transferList; track $index) {
                    <ul>
                        <li>
                            <span>
                                <img [src]="item.img" alt="">
                                <span class="">
                                    <h2>{{item.title}}</h2>
                                </span>
                                <p>{{item.des}}</p>
                            </span>
                        </li>
                    </ul>
                    }
                </div>
            </div>
        </div>
    </section>

    <section class="section-4 upcoming-apps container">
        <div class="transfer-content">
            <h2>Keep an Eye Out for Our <span class="text-highlight-gradient">Upcoming Apps</span></h2>

        </div>
        <div class="upcoming-icon">
            @for (item of apps; track $index) {
            <ul>
                <li>
                    <span>
                        <img [src]="item.img" alt="">
                        <span>{{item.title}}</span>
                        <button disabled class="coming-btn">Coming Soon</button>
                    </span>
                </li>
            </ul>
            @if ($index === 1) {
            <div class="vertical-divider"></div>
            }
            }
        </div>
    </section>

    <section class="section-6">
        <app-faq-accordion></app-faq-accordion>
    </section>

    <section class="section-5">
        <app-testimonial-section></app-testimonial-section>
    </section>

    <section class="section-7">
        <app-cta-section></app-cta-section>
    </section>


    <!-- Upload Progress Overlay (remains unchanged) -->
    <div class="upload-progress-overlay" *ngIf="isUploading && currentItemBeingUploaded">
        <app-upload-progress-item [item]="currentItemBeingUploaded" [percentage]="uploadProgressDetails.percentage"
            [bytesSent]="uploadProgressDetails.bytesSent" [totalBytes]="uploadProgressDetails.totalBytes"
            [speedMBps]="uploadProgressDetails.speedMBps" [etaFormatted]="uploadProgressDetails.etaFormatted"
            [itemsInTransfer]="selectedItems.length" (cancelUpload)="handleCancelUpload()">
        </app-upload-progress-item>
    </div>
</div>