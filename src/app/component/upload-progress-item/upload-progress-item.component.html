<!-- src/app/component/upload-progress-item/upload-progress-item.component.html -->
<div class="upload-progress-card card-style" *ngIf="item">
  <div class="progress-header">
    <span>1 Transfer</span>
    <span class="percentage-badge header-badge">{{ percentage }}%</span>
    <i class="fas fa-chevron-down"></i>
  </div>

  <hr class="progress-divider">

  <!-- Row 1: Icon, (Filename + Uploaded/Total Size), Cancel Button -->
  <div class="item-main-details-row">
    <div class="item-icon">
      <i [ngClass]="item.icon || 'fas fa-file'"></i>
      <span class="icon-file-type" *ngIf="item.icon === 'fab fa-python'">PY</span>
    </div>

    <div class="item-name-and-size-wrapper">
      <span class="item-name" [title]="item.name">{{ item.name }}</span>
      <span class="item-uploaded-size-info">
        {{ bytesSent | byteFormat }} / {{ totalBytes | byteFormat }}
      </span>
    </div>

    <div class="item-actions">
      <button type="button" class="btn icon-btn btn-cancel" title="Cancel Upload" (click)="onCancelClick()">
        <i class="fas fa-stop"></i>
      </button>
    </div>
  </div>

  <!-- Row 2: Progress Bar -->
  <div class="item-progress-bar-container">
    <div class="item-progress-bar">
      <progress [value]="percentage" max="100"></progress>
    </div>
  </div>

  <!-- Row 3: ETA and Speed (below progress bar) -->
  <div class="item-eta-speed-row">
    <div class="item-speed-eta-content"> <!-- Wrapper for alignment -->
      <span class="eta-info" title="Time Remaining">
        <i class="fas fa-stopwatch"></i> {{ etaFormatted }}
      </span>
      <span class="speed-info" title="Upload Speed">
        <i class="fas fa-tachometer-alt"></i> {{ speedMBps | number:'1.1-2' }} MB/s
      </span>
    </div>
  </div>
</div>